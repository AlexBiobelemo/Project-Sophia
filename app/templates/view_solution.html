{% extends "base.html" %}
{% block content %}
    <h1>Solution for "{{ solution.problem.title }}"</h1>
    <p><strong>Language:</strong> {{ solution.language }}</p>
    <p><strong>Contributor:</strong> {{ solution.contributor.username }}</p>
    <p><strong>Classification:</strong> {{ solution.classification }}</p>
    <p><strong>Status:</strong>
        {% if solution.approved %}
            <span class="badge bg-success">Approved</span>
        {% else %}
            <span class="badge bg-warning">Pending Approval</span>
        {% endif %}
    </p>

    <hr>

    <h2>Solution Code</h2>
    <pre><code class="language-{{ solution.language }}">{{ solution.solution_code }}</code></pre>

    <h2>Explanation</h2>
    <div class="card mb-3">
        <div class="card-body">
            {{ solution.explanation | markdown }}
        </div>
    </div>

    {% if current_user == solution.problem.author and not solution.approved %}
        <a href="{{ url_for('main.approve_solution', solution_id=solution.id) }}" class="btn btn-warning">Approve/Reject Solution</a>
    {% endif %}
    <a href="{{ url_for('main.view_problem', problem_id=solution.problem.id) }}" class="btn btn-secondary">Back to Problem</a>

    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            Prism.highlightAll();
        });
    </script>
{% endblock %}
